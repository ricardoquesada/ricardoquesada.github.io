<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Cocos2d | RETRO.MOE</title>
<meta name="keywords" content="">
<meta name="description" content="From Commodore 64 to the present: a developer&#39;s journey">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/category/cocos2d/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fcb3718b9739f6b39cc36096f68dccc8a7e0d3e24fc6b09c575e0c25ec8f35b2.css" integrity="sha256-/LNxi5c59rOcw2CW9o3MyKfg0&#43;JPxrCcV14MJeyPNbI=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="http://localhost:1313/category/cocos2d/feed.xml">
<link rel="alternate" hreflang="en" href="http://localhost:1313/category/cocos2d/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lexend&display=swap" rel="stylesheet">

</head>

<body class="list" id="top">
<script>
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="RETRO.MOE (Alt + H)">RETRO.MOE</a>
            <div class="logo-switches">
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/unijoysticle/" title="Unijoysticle‚Ñ¢">
                    <span>Unijoysticle‚Ñ¢</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/unijoysticle2/" title="Unijoysticle‚Ñ¢ 2">
                    <span>Unijoysticle‚Ñ¢ 2</span>
                </a>
            </li>
            <li>
                <a href="https://www.tindie.com/stores/riq/" title="Store">
                    <span>Store</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/contact/" title="Contact">
                    <span>Contact</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="üîç">
                    <span>üîç</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;¬ª&nbsp;<a href="http://localhost:1313/category/">Category</a></div>
  <h1>
    Cocos2d
  </h1>
</header>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">The history of Cocos2d in a glimpse
    </h2>
  </header>
  <div class="entry-content">
    <p>Cocos2d (Python) In February 2008, at Los Cocos, C√≥rdoba, Argentina, we started the ‚ÄúLos Cocos‚Äù Python game engine. We later renamed it Cocos2d. The idea was to create a game engine for the games we were creating for PyWeek.
[caption id=&#34;&#34; align=‚Äúalignnone‚Äù width=‚Äú512‚Äù] PyCamp 2008. Centro Allen Gardiner, Los Cocos, C√≥rdoba, Argentina[/caption]
We started the game engine with Lucio Torre, Daniel Moisset, Rayentray Tappa, and I, with the help of Alejandro Cura and other members of PyAr.
</p>
  </div>
  <footer class="entry-footer"><span title='2017-04-17 04:38:08 +0000 +0000'>April 17, 2017</span>&nbsp;¬∑&nbsp;7 min&nbsp;¬∑&nbsp;ricardoquesada</footer>
  <a class="entry-link" aria-label="post link to The history of Cocos2d in a glimpse" href="http://localhost:1313/2017/04/16/cocos2d-in-a-glimpse/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Integrating LiquidFun with Cocos2d-x: Part II
    </h2>
  </header>
  <div class="entry-content">
    <p>In Part I I described to how integrated LiquidFun with Cocos2d-x. In this part (part II) I‚Äôll describe how to render the particles using a basic water effect.
Part I uses just one glDrawArrays(GL_POINTS, 0, total); to draw the particles. And although that works to draw ‚Äúparticles‚Äù, it is not enough to draw ‚Äúwater‚Äù.
Drawing ‚Äúwater‚Äù requires a more complex rendering algorithm, like the one used in this example. And implementing an algorithm similar that one is what this article describes.
The algorithm works more or less like this:
Choose a white circle and blur it. You can blur the circle at runtime Or you can blur it off-line. Create an a new frame-buffer (think of a clean off-screen buffer where you can render whatever you want) Render the particles into the newly created frame-buffer using the blurred circle Now render the frame-buffer into the main color-buffer using a threshold. The threshold could be something like this: If pixel.r &lt; 0.1, discard the pixel (the pixel won‚Äôt be drawn) If pixel.r &lt; 0.2, draw a blue pixel (for the border, although this is optional) else draw a white pixel (the inner part of the water) How to do it using Cocos2d-x and LiquidFun Let‚Äôs take the LFParticleSystemNode from Part I, and ‚Äúevolve‚Äù it:
The first thing to do is to add the ‚Äúoff-screen‚Äù frame-buffer into the LFParticleSystemNode class. In Cocos2d-x, the ‚Äúoff-screen‚Äù buffers are created with the RenderTexture class. Example:
[code language=‚Äúcpp‚Äù] bool LFParticleSystemNode::init(b2ParticleSystem* particleSystem, float ratio) { ‚Ä¶ // create an off-screen frame-buffer with the size of the screen auto s = Director::getInstance()-&gt;getWinSize(); _renderTexture = cocos2d::RenderTexture::create(s.width, s.height, Texture2D::PixelFormat::RGBA8888); this-&gt;addChild(_renderTexture); _renderTexture-&gt;setAnchorPoint(Point::ANCHOR_MIDDLE); _renderTexture-&gt;setPosition(Point(s.width/2, s.height/2));
// Change the default shader. Use a the threshold shader auto program = GLProgram::createWithByteArrays(_renderTextureShaderVert, _renderTextureShaderFrag); auto programState = GLProgramState::getOrCreateWithGLProgram(program); programState-&gt;setUniformFloat(‚Äúu_threshold_discard‚Äù, 0.15); programState-&gt;setUniformFloat(‚Äúu_threshold_border‚Äù, 0.3);
‚Ä¶ } [/code]
And, as mentioned earlier, the RenderTexture (the off-screen frame-buffer) needs a shader with a threshold. The threshold shader should look like the following:
[code language=‚Äúcpp‚Äù] varying vec4 v_fragmentColor; varying vec2 v_texCoord; uniform float u_threshold_discard; uniform float u_threshold_border;
void main() { vec4 color = v_fragmentColor * texture2D(CC_Texture0, v_texCoord); if( color.r &lt; u_threshold_discard) // black or discard color = vec4(0,0,0,0); else if( color.r &lt; u_threshold_border) // blue for the border color = vec4(0.2,0.2,0.9,1); else // white for the center color = vec4(1,1,1,1); gl_FragColor = color; } [/code]
The values u_threshold_discard, and u_threshold_border are defined at runtime. In the example, they are set at 0.15 and 0.3 respectively.
The next thing to do is, to render the particles in the RenderTexture.
[code language=‚Äúcpp‚Äù]void LFParticleSystemNode::draw(Renderer *renderer, const Mat4 &amp;transform, uint32_t transformFlags) { // tell RenderTexture to ‚Äúcapture‚Äù the particles _renderTexture-&gt;beginWithClear(0,0,0,0);
_customCommand.init(_globalZOrder); _customCommand.func = CC_CALLBACK_0(LFParticleSystemNode::onDraw, this, transform, transformFlags); renderer-&gt;addCommand(&amp;_customCommand);
// tell RenderTexture to stop ‚Äúcapturing‚Äù the particles _renderTexture-&gt;end(); } [/code]
The result is the following </p>
  </div>
  <footer class="entry-footer"><span title='2014-07-30 20:45:00 +0000 +0000'>July 30, 2014</span>&nbsp;¬∑&nbsp;4 min&nbsp;¬∑&nbsp;ricardoquesada</footer>
  <a class="entry-link" aria-label="post link to Integrating LiquidFun with Cocos2d-x: Part II" href="http://localhost:1313/2014/07/30/integrating-liquidfun-with-cocos2d-x-part-ii/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">WWDC 2014 announcements as a game developer
    </h2>
  </header>
  <div class="entry-content">
    <p>At WWDC 2014, Apple announced new features for iOS and OS X. These are my thoughts:
Swift Swift is a new programming language by Apple.
At first sight, it seems to be easier to learn and easier to master than Objective-C. Objective-C is not particular difficult to learn and master, but its syntax looks foreign to C# / C&#43;&#43; / Python developers.
Swift, on the other hand, has a more conventional design. You can read Swift code the same way you can read C# code, even if you are not a Swift or C# developer.
Swift is a compiled language, although it looks like an scripting language. It is strongly typed, it is object-oriented with functional features. It does not have garbage collection. It uses ARC instead.
You can call any Objective-C API from Swift (at least Apple‚Äôs APIs) , and Apple claims it is faster than Objective-C. Objective-C wasn‚Äôt the fastest language out there, but it wasn‚Äôt particularly slow either.
Perhaps the killer feature for me is Playground, a kind of sandbox for testing ideas / rapid development / rapid prototyping. BTW, Playground seems to be inspired (or copied if you prefer) from Bret Victor‚Äôs Inventing on Principle talk, which is a MUST WATCH video for everybody.
Also, Swift has pretty much what John Siracusa asked for in his Copland 2010 article.
So, if Swift is easier to learn, easier to master, less error-prone, faster to develop code, performs better than Objective-C and you can call Objective-C code from it, why Apple should keep adding features to Objective-C ?
I expect that:
Objective-C code will be supported on iOS / OS X for the foreseeable future. But new APIs will be added on Swift only. Developers will be forced to migrate to Swift to use the new ones (similar to what happened years ago with Carbon vs. Cocoa APIs ). Unknowns:
Can you call any Objective-C library from it ? or only Apple‚Äôs APIs ? Will Apple release the binding generator ? [UPDATE]: Yes, it is possible to call 3rd party Obj-C libraries from Swift. Will Apple open source the language ? Or at least submit the language to the standard committee ? Can you call C and/or C&#43;&#43; libraries from it ? For me:
Swift is a very attractive language, so if Apple decides to open source it, it has the potential to gain a lot of developers from other platforms as well. I would definitely use it, and would seriously analyze the possibility of porting cocos2d to it. Bret Victor‚Äôs Inventing on Principle was very inspiring. Since the day I watched that video, I wanted to add similar features to cocos2d. Playground showed us that it is possible to do it with a compiled language. </p>
  </div>
  <footer class="entry-footer"><span title='2014-06-03 17:59:57 +0000 +0000'>June 3, 2014</span>&nbsp;¬∑&nbsp;5 min&nbsp;¬∑&nbsp;ricardoquesada</footer>
  <a class="entry-link" aria-label="post link to WWDC 2014 announcements as a game developer" href="http://localhost:1313/2014/06/03/wwdc-2014-announcements-and-the-game-developers/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Integrating LiquidFun with Cocos2d-x: Part I
    </h2>
  </header>
  <div class="entry-content">
    <p>[caption id=&#34;&#34; align=‚Äúalignnone‚Äù width=‚Äú400‚Äù] LiquidFun Testbed &#43; Cocos2d-x[/caption]
From LiquidFun‚Äôs site:
Based on Box2d, LiquidFun features particle-based fluid simulation. Game developers can use it for new game mechanics and add realistic physics to game play. Designers can use the library to create beautiful fluid interactive experiences.
Basically LiquidFun is Box2d plus an extension to simulate fluids using a particle system. To test it, download and install the official LiquidFun - Testbed, and LiquidFun - EyeCandy for Android.
Cocos2d-x already has Box2d integration, so in order to integrate Cocos2d-x with LiquidFun, we only need to integrate this new class: b2ParticleSystem.
LiquidFun‚Äôs b2ParticleSystem I‚Äôm not going to describe how to use LiquidFun (for that, read its programmers guide). Instead, I‚Äôm going to describe how to integrate b2ParticleSystem in Cocos2d-x (also applicable to any other game engine).
For the integration, what we need is a Cocos2d-x node that knows how to render a b2ParticleSystem. And b2ParticleSystem has these 4 useful methods:
[code language=‚Äúcpp‚Äù] class b2ParticleSystem { ‚Ä¶ // Get the number of particles. int32 GetParticleCount() const;
// Get the particle radius. float32 GetRadius() const;
// Get the position of each particle in Box2d‚Äôs coordinate system // Array is length GetParticleCount() b2Vec2* GetPositionBuffer();
// Get the color of each particle in RGBA Uint8 format. // Array is length GetParticleCount() b2ParticleColor* GetColorBuffer(); }; [/code]
Ideally we should be able to reuse cocos2d::ParticleSystemQuad for the rendering, but we can‚Äôt because:
cocos2d::ParticleSystemQuad doesn‚Äôt support changing the attractor (this is a design bug, we need to fix it). A nil attractor would be needed for this case. ParticleSystemQuad works with Quads, and not Points. And even if Points were supported (like in Cocos2d-x v1), it wouldn‚Äôt work because the points and colors should be in an interleaved array. The other issue is the conversion between Box2d and Cocos2d-x coordinate system, but it would be easy to fix. </p>
  </div>
  <footer class="entry-footer"><span title='2014-04-23 21:51:26 +0000 +0000'>April 23, 2014</span>&nbsp;¬∑&nbsp;5 min&nbsp;¬∑&nbsp;ricardoquesada</footer>
  <a class="entry-link" aria-label="post link to Integrating LiquidFun with Cocos2d-x: Part I" href="http://localhost:1313/2014/04/23/integrating-liquidfun-with-cocos2d-x-part-i/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Installing git
    </h2>
  </header>
  <div class="entry-content">
    <p>So you have Windows 8.1 &#43; Visual Studio 2013 installed. Now you need to install a git client.
My workflow in Mac is:
I use git command line about 70% of the time. In the reaming 30% I‚Äôm using¬†Tower, Kaleidoscope and Xcode. So, I was looking for something similar for Windows. And so far, this is my current setup:
Mysysgit, for git command line. SourceTree for GUI I couldn‚Äôt find a good stand-alone diff-viewer, so I‚Äôm using SourceTree‚Äôs What I like about Mysysgit is that it installs a Unix-like shell, with git auto-completion and you can also see the current branch in the shell prompt. That is very handy.
...</p>
  </div>
  <footer class="entry-footer"><span title='2014-04-10 19:25:10 +0000 +0000'>April 10, 2014</span>&nbsp;¬∑&nbsp;2 min&nbsp;¬∑&nbsp;ricardoquesada</footer>
  <a class="entry-link" aria-label="post link to Installing git" href="http://localhost:1313/2014/04/10/installing-git/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Sapus, cocos2d y ajedrez
    </h2>
  </header>
  <div class="entry-content">
    <p>Guau‚Ä¶ ya paso un mes desde el ultimo post ?
Estuve dandole a cocos2d para iPhone. En este ultimo mes saque 3 version de cocos2d para iPhone, quizas lo mas importante es que empece con la serie v0.6.x que viene con varias mejoras en la API y con el feature de Parallax Scrolling.
Ademas saque con Sapus Tongue Lite, la version gratis de Sapus Tongue que tiene todos los features salvo el de subir scores al server.
Y como ultimo, pero no menos importantes, volvi a las pistas de ajedrez. Estoy jugando el torneo del CSM‚Ä¶ las aperturas las tengo medio olvidadas pero lo demas mas o menos lo tengo fresco.
...</p>
  </div>
  <footer class="entry-footer"><span title='2008-12-11 18:57:00 +0000 +0000'>December 11, 2008</span>&nbsp;¬∑&nbsp;1 min&nbsp;¬∑&nbsp;ricardoquesada</footer>
  <a class="entry-link" aria-label="post link to Sapus, cocos2d y ajedrez" href="http://localhost:1313/2008/12/11/sapus-cocos2d-y-ajedrez/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Sapus Tongue v1.0 sali√≥ a la venta!
    </h2>
  </header>
  <div class="entry-content">
    <p>
Si‚Ä¶ Sapito Tongue sali√≥ a la venta‚Ä¶ mi 1er producci√≥n‚Ä¶ 100% mia‚Ä¶ estoy muy contento!
Usa cocos2d v0.5.2 y utiliza casi todos los features de este.
Espero que les guste: http://www.sapusmedia.com/SapusTongue/Spanish.html
</p>
  </div>
  <footer class="entry-footer"><span title='2008-11-10 22:31:00 +0000 +0000'>November 10, 2008</span>&nbsp;¬∑&nbsp;1 min&nbsp;¬∑&nbsp;ricardoquesada</footer>
  <a class="entry-link" aria-label="post link to Sapus Tongue v1.0 sali√≥ a la venta!" href="http://localhost:1313/2008/11/10/sapus-tongue-v1-0-salio-a-la-venta/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Dessert Dilemma: nuevo jueguito
    </h2>
  </header>
  <div class="entry-content">
    <p>
Adem√°s de estar haciendo cocos2d y Sapus Tongue, estas √∫ltimas semanas estuve entretenido haciendo otro juego para Cocoa Touch Games: Dessert Dilemma.
El juego consiste en llevar el postre a una parte del mantel, esquivando distintos objectos como tenedores, cuchillos, cucharas y platos.
El genero es una suerte de puzzle &#43; arcade, ya que el juego mide el tiempo y no los movimientos hechos.
Espero que les guste. Hoy o ma√±ana David (de Cocoa Touch Games) lo estar√° subiendo al App Store y supongo que en 5 o 6 d√≠as estar√° disponible.
...</p>
  </div>
  <footer class="entry-footer"><span title='2008-11-06 23:55:00 +0000 +0000'>November 6, 2008</span>&nbsp;¬∑&nbsp;1 min&nbsp;¬∑&nbsp;ricardoquesada</footer>
  <a class="entry-link" aria-label="post link to Dessert Dilemma: nuevo jueguito" href="http://localhost:1313/2008/11/06/dessert-dilemma-nuevo-jueguito/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Tools usadas para el desarrollo de Sapus Tongue
    </h2>
  </header>
  <div class="entry-content">
    <p>
a: MacBook, Xcode, cocos2d, pgu tile editor, Simulator, Firefox, Gmail, Gimp, iMovie, Audacity, afconvert, iTunes, Adium, m√°s.
b: cuaderno cuadriculado y una rollerball roja: prototipos, ideas, cuentas, sketches y m√°s prototipos: 6 hojas de dibujos aprox.
c: iPod Touch 1g, iPod Touch 2g, iPhone 1g: pruebas, y m√°s pruebas
d: filmadora (prestada, gracias Mana y Jose): para el video de instrucciones
e: iPod 3g: fundamental escuchar a la Mona Jimenez para hacer la parte de bug fixing y tunning mas amena
...</p>
  </div>
  <footer class="entry-footer"><span title='2008-10-31 05:06:00 +0000 +0000'>October 31, 2008</span>&nbsp;¬∑&nbsp;1 min&nbsp;¬∑&nbsp;ricardoquesada</footer>
  <a class="entry-link" aria-label="post link to Tools usadas para el desarrollo de Sapus Tongue" href="http://localhost:1313/2008/10/30/tools-usadas-para-el-desarrollo-de-sapus-tongue/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Se viene Sapus Tongue
    </h2>
  </header>
  <div class="entry-content">
    <p>Se viene Sapus Tongue!
Click here to block this object with Adblock Plus
</p>
  </div>
  <footer class="entry-footer"><span title='2008-10-28 04:32:00 +0000 +0000'>October 28, 2008</span>&nbsp;¬∑&nbsp;1 min&nbsp;¬∑&nbsp;ricardoquesada</footer>
  <a class="entry-link" aria-label="post link to Se viene Sapus Tongue" href="http://localhost:1313/2008/10/27/se-viene-sapus-tongue/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="next" href="http://localhost:1313/category/cocos2d/page/2/">Next&nbsp;&nbsp;¬ª
    </a>
  </nav>
</footer>
    </main>
    
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
</body>

</html>
